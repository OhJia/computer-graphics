<body style="background-color: #000033">
<table>

<tr>
<!-- <td><canvas id='canvas1' width=980 height=600></td> -->
<td><canvas id='canvas1' /></td>
<td><canvas id='canvas2'></td>
</tr>

<tr>

</tr>

</table>
</body>

<script src=draw.js></script>
<script>

   // CUBE
   var cubeVertices = [];
   cubeVertices.push([-1, -1, -1, 1]);
   cubeVertices.push([1, -1, -1, 1]);
   cubeVertices.push([-1, 1, -1, 1]);
   cubeVertices.push([1, 1, -1, 1]);
   cubeVertices.push([-1, -1, 1, 1]);
   cubeVertices.push([1, -1, 1, 1]);
   cubeVertices.push([-1, 1, 1, 1]);
   cubeVertices.push([1, 1, 1, 1]);
   var cubeEdges = [[0, 1], [1, 3], [3, 2], [2, 0], [0, 4], [1, 5], [3, 7], [2, 6], [4, 5], [5, 7], [7, 6], [6, 4]];
   var vContainer = [];
    for (var i = 0; i < cubeVertices.length; i++){
      vContainer[i] = new Array(4);
   }

   // MATRIX
   var m1 = new Matrix().scale(0.2, 0.2, 0.2);
   var m2 = new Matrix().scale(0.3, 0.3, 0.3);

   // CYLINDER
   var cylinderEdges = [];  
   var numU = 30, numV = 30;
   var u, v;
   var theta, cos, sin; 
   var index;
   var numVertices = numU * numV + 1;
   // var cylinderVertices = new Array(numVertices); 
   var cylinderVertices = []; 
   var numEdges = (numU) * (numV -1);
   // var cylinderEdges = new Array(numEdges);
   var cylinderEdges = [];
   var nCylinderVertices = [];

   for (var i = 0; i < numV; i++){
      v = i/numV;
      for (var j = 0; j < numU; j++){
         index = (i * numV) + j;
         u = j/numU;
         theta = 2 * Math.PI * u;
         cos = Math.cos(theta);
         sin = Math.sin(theta);
         cylinderVertices.push([sin, cos, 2*v-1, 1]);
         if (j > 0){
            cylinderEdges.push([index - 1, index]);
         } else {
            cylinderEdges.push([numU + index - 1, index]);
         }
         if (i > 0){
            cylinderEdges.push([index - numV, index]);
         }
      }
   }

   for (var i = 0; i < cylinderVertices.length; i++){
      nCylinderVertices[i] = new Array(4);
   }

   //console.log(cylinderVertices);

 
   var canvas = initCanvas('canvas2');
   canvas.width = 400;
   canvas.height = 400;
   canvas.update = function(g) {
      g.lineWidth = 1.5;
      // g.strokeStyle="#000000";
            
      nCylinderVertices = m2
      .rotateY((canvas.cursor.x) * 0.001)
      .rotateZ(0.01)
      .rotateX(0.01)
      .transform(cylinderVertices, nCylinderVertices);
      //console.log(vContainer);
      
      drawShape(g, nCylinderVertices, cylinderEdges, canvas.width, canvas.height);     
   }

   var canvas2 = initCanvas('canvas1');
   canvas2.width = 400;
   canvas2.height = 400;
   canvas2.update = function(g) {
      g.lineWidth = 1.5;
      g.strokeStyle="#000000";
            
      vContainer = m1
      .rotateY((canvas.cursor.x) * 0.001)
      .rotateZ(0.01)
      .rotateX(0.01)
      .transform(cubeVertices, vContainer);
      //console.log(vContainer);
      
      drawShape(g, vContainer, cubeEdges, canvas2.width, canvas2.height);     
   }

</script>

